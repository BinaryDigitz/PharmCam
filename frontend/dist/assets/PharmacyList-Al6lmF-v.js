import{r as l,A as m,j as e,p as A,a as y}from"./index-x2h5h95Z.js";import{c as S,p as C}from"./data-DaNLr49x.js";const N="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAADH0lEQVR4nO1ZO2tUQRSebXzgA0REbaOorY1gEVcNCzeZ7xs2yK18IAqSgP9B0SIxfXojCGKZLHm0Wvgu1djY2BlTKT4SMXLiCLuHm91k78zuRveDA8vC/c58c8+ZOedcY7roovMwODh4kORVkvdIvgLwCcCSGMkFki9JTjjnrgwMDBwwnQZr7WkAFQA/Sa6s05YBTDnnTrV7/YbkYZKzG1j8WjZdLpcPtUWEtfYSyS8BRKwagM8kL7RUBIBbdRb1huQIgD7n3NFSqbRDDMAx+Q/AKMm3dZ6/2RIRJG+vsYBnzrkz6+UBcJLk47aIsX/CSYfED5LXjDGFJigLAIY8Rw2vtfZ8zMSuyQk5Xq21vXm55eQiuahzxlrbY0JDn06yiyFE/AWAor9vqn1UTOh7IiOOJZyCguRwRoj1BnMgO6N26mmTOdEIBZLPlZjJkGXHshJSNJEgJ5+uAEjuz03sa6dqEa9NZACYV2Iu5yb1BWA16YiJDAB31ObdzU0qVawi7Quy2vo+S8rni9ykcldUk/b39x8xkSGljYqCj7lJ9a2bpulOExniQwn5HlyIc26XiYwkSXbrW978C6EF4H1uUt+etjvZn4QgnVCko0FWW9/nmMqR8eAXojRFQVZb3+c7tXnncpPKtEOXKFJEmkiQ0NVVdrlc3huKfEp3gxGLxpqcJDkRjN03ProzHDKBQfK69uOcOx7aybQSshRyJiVVr26sSN43oSFzJz+yqXa0GKKk941bTasrk8kkSfaZGJC5U0aIyS4ONzt8kHDKeBNij9I03WJiQUY1GU5XK1SSZzd4OunE1jZdLBa3tVyMFzTv+4mSDOWkABST3/7GHtP3RAObjPpmZO6UkTNRDMBUkiRbY4rp0YOJJuwXgIck59oqRiAjGwkBXQE0sG8kH1hrTwiH5AKAmQZiKtHFCGTaIYMC6bF98i9IiQHgK8kPftQzDuCitXaPfr6jxOSFJHZGSbSixMxEPc1aKYbkbFdMq5H+h29mLk3T7abTUVzHadby748x3gyAG2YzIc0Qs+lEZInZtCKqcybax9IuujB18RscbPp9LZelxQAAAABJRU5ErkJggg==",v="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAACA0lEQVR4nO2az0rDQBDGF9Sr4CuICD6E9uIh7c63tzyBkIMHrz22x14Fe/A91EufQxF8BMG7f6ASUFpKmm7iTNI488Eey3yzJb8v2R3nTCaTyWQymSIEYExEt1mW7bktU5qmOwCuiWgi1jyAeb6IaOa9P3BboiRJ9onobsnfRKx5LIq8DAaDE9ZC9bwdAXgq8DcRax6L9RZCOHctyXt/CuB1nT+WTQAwLdmAvMgXEV2xdFTNV0ZEH2XeANxwweVhQ6F5U3DM/eT/bISfWa/X2+WEzGNMUUk4rsKuxMczuw/v/WHZ8yYNx3WwK+JSv98/dhIKIZwR0XuMCU44boLd0voUhzKAiwgjbHCMhN1vzUueLv+YDBxwjIUdK/G5k6EuHGNhJ0J87mSoCscKsJMjPncyxMKxAuzkiS+QDKVwrAK7xojPnQxFcKwBu2aJL5EMy/DKV9Xf5bXctimtmAx1VyvEl0qGGs23R3zBZOgO8aWSoVPEl0yGzhBfMhlafccXSob7f0n8GKnfAGh+BKAZgkFzDHrNL0KJ5lfhVPvHEDR/DkPzgUjQfCTmNR+KJpqPxVPtFyPQfDUGzZejQfP1uNc8IJFoHpFJtQ9JQfuYHIBhU7ATGJQcsRRCwSZ0YFR2xF1o2BTsGIaleZtfmRuebuOBRO7ph1fjtr2YTCaTyWRyndA3gjdzk3EorcYAAAAASUVORK5CYII=";function k(){const{setShowSearchBar:s}=l.useContext(m),[d,o]=l.useState(""),[c,a]=l.useState(!1);function h(){s(!0),a(!c)}return e.jsx("div",{className:"grid place-items-cente  overflow-hidden mb-2",children:e.jsxs("div",{className:"flex border border-green-900/40 rounded-lg overflow-hidden flex-nowrap justify-between gap-4  sm:max-w-[90%] lg:w-sm lg:mx-12 ",children:[e.jsx("label",{onClick:h,htmlFor:"search",className:" p-2  bg-black",children:e.jsx("img",{src:N,width:30,className:"cursor-pointer",alt:A})}),e.jsx("input",{type:"text",id:"search",onFocus:()=>s(!0),value:d,onChange:x=>o(x.target.value),className:"text-sm placeholder:text-green-900 border-none flex-1 outline-none placeholder:italic",maxLength:10,placeholder:"Search medication or pharmacy"}),e.jsx("button",{onClick:()=>o(""),title:"Clear search",className:"p-2 rounded cursor-pointer ",children:"Search"})]})})}function E(){const{setShowSearchBar:s}=l.useContext(m);return e.jsx("section",{className:"relative p-4 rounded-lg w-full   min-h-[63vh] lg:min-h-[50dvh]  scrollbar-hidden ",children:e.jsx("button",{onClick:()=>s(!1),title:"Close search",className:"absolute right-4 top-4 cursor-pointer ",children:e.jsx("img",{src:v,width:25,alt:A})})})}function R({region:s,filterCity:d,handleSelect:o}){const c=S.find(a=>a.region===s);return e.jsxs("form",{className:" border",children:[e.jsx("label",{htmlFor:"city",className:"sr-only",children:"City"}),e.jsx("select",{title:"Filter town",className:'py-2 px-1 rounded  bg-white text-green-950" cursor-pointer lg:hover:scale-x-105 trans',onChange:o,value:d,name:"city",id:"city",children:c.towns.map(a=>e.jsx("option",{value:a,children:a},a))})]})}function I(){const{town:s,navigate:d,showSearchBar:o}=l.useContext(m),[c,a]=l.useState([]),[h,x]=l.useState("all"),[r,p]=l.useState(""),[u,b]=l.useState(s.town);function j(t){b(t.target.value),x("all");const n=r&&(r==null?void 0:r.pharmacies.filter(i=>i.town===u));a(n)}function w(){x("open");const n=(r&&(r==null?void 0:r.pharmacies.filter(i=>i.town===u))).filter(i=>i.isOpen);a(n)}function f(){x("all");const t=r&&(r==null?void 0:r.pharmacies.filter(n=>n.town===u));a(t)}return l.useEffect(()=>{function t(){const n=s.region&&C.find(g=>g.region===s.region);p(n);const i=n&&(n==null?void 0:n.pharmacies.filter(g=>g.town===s.town));a(i)}t()},[]),c.length<1?e.jsx("div",{className:"grid place-items-center h-full",children:e.jsxs("h1",{className:"flex flex-col",children:[e.jsx("span",{className:"text-lg lg:text-xl",children:"No available pharmacy in this town."}),e.jsx("button",{onClick:()=>d("/select-preference"),className:"montsarrat py-1.5 px-4 cursor-pointer  bg-black text-white rounded mt-2 max-w-40 lg:hover:w-41 mx-auto trans",children:"Select Town"})]})}):e.jsxs("div",{className:"mt-4 p-4 rounded  bg-white/20 relative",children:[e.jsxs("h1",{className:"montserrat font-bold text-lg lg:text-2xl text-center mb-4",children:[s.region.toUpperCase()," REGION"]}),e.jsx(k,{}),e.jsxs("div",{className:"text-sm flex gap-4 bg-green-950/90 shadow-lg justify-cente items-center justify-center lg:justify-start p-4 rounded lg:w-6xl mx-auto",children:[e.jsx("button",{title:"View all pharmacies",onClick:()=>f(),className:`py-2 px-4 rounded text-sm ${h==="all"?"bg-green-700 text-green-100":"bg-white text-green-950"}  cursor-pointer  lg:hover:scale-x-105 trans`,children:"All"}),e.jsx("button",{title:"View open pharmacies",onClick:()=>w(),className:`py-2 px-4 rounded  ${h==="open"?"bg-green-700 text-green-100":"bg-white text-green-950"}  cursor-pointer lg:hover:scale-x-105 trans`,children:"Currently Open"}),e.jsx(R,{region:s.region,handleSelect:j,filterCity:u})]}),e.jsx("div",{className:`${o?"absolute":"hidden"}  z-40 bg-white left-[50%] top-28 border rounded-lg -translate-x-[50%] min-w-[95%] backdrop:blur-5xl`,children:e.jsx(E,{})}),e.jsx("section",{className:"grid grid-cols-1 lg:grid-cols-2 overflow-y-scroll p-4 place-items-center lg:w-6xl mx-auto gap-2 mt-8 border border-gray-300 shadow-lg rounded",children:c&&c.map(t=>e.jsx(y,{to:`/pharmacy/${t.region}/${t.town}/${t.id}`,children:e.jsx("article",{className:`p-4 rounded-xl min-w-[360px] md:w-lg  ${t.onCall?"bg-green-100":"bg-gray-100/70 hover:bg-gray-200/60 trans"}`,children:e.jsxs("div",{className:"flex items-center gap-4 cursor-pointer",children:[e.jsx("div",{children:t.isOpen?e.jsx("p",{className:"size-2 bg-green-400 rounded-full","aria-label":"pharmacy is open"}):e.jsx("p",{className:"size-2 bg-gray-600 rounded-full","aria-label":"pharmacy is closed"})}),e.jsx("p",{className:`${t.isOpen?"font-bold":"opacity-80"} flex-1`,children:t.name}),e.jsx("div",{children:t.isOpen?e.jsxs("div",{className:"text-xs italic text-green-700",children:[e.jsx("p",{children:"Currently open"}),e.jsx("div",{className:"text-gray-600",children:t.isOnCall?e.jsx("p",{className:"text-green-700",children:"On call today"}):e.jsxs("p",{children:[e.jsx("span",{children:"Closes at "}),e.jsx("span",{className:"text-red-600",children:" 18:30"})]})})]}):e.jsxs("div",{className:"text-xs italic text-gray-600",children:[e.jsx("p",{children:"Currently closed"}),e.jsxs("p",{className:"text-gray-600",children:[e.jsx("span",{children:"Opens at "}),e.jsx("span",{className:"text-gray-600",children:" 18:30"})]})]})}),e.jsx("div",{})]})})},t.id))})]})}export{I as default};
